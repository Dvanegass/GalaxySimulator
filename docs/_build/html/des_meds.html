

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DES Meds &mdash; GalSim 2.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DES PSFex" href="des_psfex.html" />
    <link rel="prev" title="The DES Module" href="des.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> GalSim
          

          
          </a>

          
            
            
              <div class="version">
                2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="image.html">Images and Related Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="sb.html">Surface Brightness Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="wcs.html">World Coordinate Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="noise.html">Noise and Random Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="chromatic.html">Wavelength-dependent Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="shear.html">Weak Lensing Shear</a></li>
<li class="toctree-l1"><a class="reference internal" href="coord.html">Angles and Coordinates</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Helper Functions and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">The Config Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="hsm.html">The HSM Module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="des.html">The DES Module</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">DES Meds</a></li>
<li class="toctree-l2"><a class="reference internal" href="des_psfex.html">DES PSFex</a></li>
<li class="toctree-l2"><a class="reference internal" href="des_shapelet.html">DES Shapelet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="wfirst.html">The WFIRST Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Revision History</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GalSim</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="des.html">The DES Module</a> &raquo;</li>
        
      <li>DES Meds</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/des_meds.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="des-meds">
<h1>DES Meds<a class="headerlink" href="#des-meds" title="Permalink to this headline">¶</a></h1>
<p>Module for generating DES Multi-Epoch Data Structures (MEDS) in GalSim.</p>
<p>This module defines the <a class="reference internal" href="#galsim.des.MultiExposureObject" title="galsim.des.MultiExposureObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">MultiExposureObject</span></code></a> class for representing multiple exposure data for a single object. The <a class="reference internal" href="#galsim.des.WriteMEDS" title="galsim.des.WriteMEDS"><code class="xref any py py-func docutils literal notranslate"><span class="pre">WriteMEDS</span></code></a> function can be used to write a list of <a class="reference internal" href="#galsim.des.MultiExposureObject" title="galsim.des.MultiExposureObject"><code class="xref any py py-class docutils literal notranslate"><span class="pre">MultiExposureObject</span></code></a> instances to a single MEDS file.</p>
<p>Importing this module also adds these data structures to the config framework, so that MEDS file output can subsequently be simulated directly using a config file.</p>
<dl class="class">
<dt id="galsim.des.MultiExposureObject">
<em class="property">class </em><code class="sig-prename descclassname">galsim.des.</code><code class="sig-name descname">MultiExposureObject</code><span class="sig-paren">(</span><em class="sig-param">images</em>, <em class="sig-param">weight=None</em>, <em class="sig-param">badpix=None</em>, <em class="sig-param">seg=None</em>, <em class="sig-param">psf=None</em>, <em class="sig-param">wcs=None</em>, <em class="sig-param">id=0</em>, <em class="sig-param">cutout_row=None</em>, <em class="sig-param">cutout_col=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/des/des_meds.html#MultiExposureObject"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.des.MultiExposureObject" title="Permalink to this definition">¶</a></dt>
<dd><p>A class containing exposures for single object, along with other information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>images</strong> – List of images of the object.</p></li>
<li><p><strong>weight</strong> – List of weight images. [default: None]</p></li>
<li><p><strong>badpix</strong> – List of bad pixel masks. [default: None]</p></li>
<li><p><strong>seg</strong> – List of segmentation maps. [default: None]</p></li>
<li><p><strong>psf</strong> – List of psf images. [default: None]</p></li>
<li><p><strong>wcs</strong> – List of WCS transformations. [default: None]</p></li>
<li><p><strong>id</strong> – Galaxy id. [default: 0]</p></li>
</ul>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>self.images</strong> (<em>List of images of the object.</em>)</p></li>
<li><p><strong>self.weight</strong> (<em>List of weight maps.</em>)</p></li>
<li><p><strong>self.seg</strong> (<em>List of segmentation maps.</em>)</p></li>
<li><p><strong>self.psf</strong> (<em>List of psf images.</em>)</p></li>
<li><p><strong>self.wcs</strong> (<em>List of WCS transformations.</em>)</p></li>
<li><p><strong>self.n_cutouts</strong> (<em>Number of exposures.</em>)</p></li>
<li><p><strong>self.box_size</strong> (<em>Size of each exposure image.</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="galsim.des.MEDSBuilder">
<em class="property">class </em><code class="sig-prename descclassname">galsim.des.</code><code class="sig-name descname">MEDSBuilder</code><a class="reference internal" href="_modules/galsim/des/des_meds.html#MEDSBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.des.MEDSBuilder" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="galsim.des.MEDSBuilder.buildImages">
<code class="sig-name descname">buildImages</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">base</em>, <em class="sig-param">file_num</em>, <em class="sig-param">image_num</em>, <em class="sig-param">obj_num</em>, <em class="sig-param">ignore</em>, <em class="sig-param">logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/des/des_meds.html#MEDSBuilder.buildImages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.des.MEDSBuilder.buildImages" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a meds file as specified in config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em>) – The configuration dict for the output field.</p></li>
<li><p><strong>base</strong> (<em>dict</em>) – The base configuration dict.</p></li>
<li><p><strong>file_num</strong> (<em>int</em>) – The current file_num.</p></li>
<li><p><strong>image_num</strong> (<em>int</em>) – The current image_num.</p></li>
<li><p><strong>obj_num</strong> (<em>int</em>) – The current obj_num.</p></li>
<li><p><strong>ignore</strong> (<em>list</em>) – A list of parameters that are allowed to be in config that we can ignore here.</p></li>
<li><p><strong>logger</strong> (<em>object</em>) – If given, a logger object to log progress.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of MultiExposureObjects.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="galsim.des.MEDSBuilder.getNImages">
<code class="sig-name descname">getNImages</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">base</em>, <em class="sig-param">file_num</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/des/des_meds.html#MEDSBuilder.getNImages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.des.MEDSBuilder.getNImages" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of images to be built for a given <code class="docutils literal notranslate"><span class="pre">file_num</span></code>.</p>
<p>In the base class, we only build a single image, so it returns 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em>) – The configuration dict for the output field.</p></li>
<li><p><strong>base</strong> (<em>dict</em>) – The base configuration dict.</p></li>
<li><p><strong>file_num</strong> (<em>int</em>) – The current file number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the number of images to build.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="galsim.des.MEDSBuilder.writeFile">
<code class="sig-name descname">writeFile</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">file_name</em>, <em class="sig-param">config</em>, <em class="sig-param">base</em>, <em class="sig-param">logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/des/des_meds.html#MEDSBuilder.writeFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.des.MEDSBuilder.writeFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for <a class="reference internal" href="#galsim.des.WriteMEDS" title="galsim.des.WriteMEDS"><code class="xref any py py-func docutils literal notranslate"><span class="pre">WriteMEDS</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="galsim.des.OffsetBuilder">
<em class="property">class </em><code class="sig-prename descclassname">galsim.des.</code><code class="sig-name descname">OffsetBuilder</code><a class="reference internal" href="_modules/galsim/des/des_meds.html#OffsetBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.des.OffsetBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>This saves the stamp offset values for later use. Subclass of <code class="docutils literal notranslate"><span class="pre">ExtraOutputBuilder</span></code>.</p>
<dl class="method">
<dt id="galsim.des.OffsetBuilder.finalize">
<code class="sig-name descname">finalize</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">base</em>, <em class="sig-param">main_data</em>, <em class="sig-param">logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/des/des_meds.html#OffsetBuilder.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.des.OffsetBuilder.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform any final processing at the end of all the image processing.</p>
<p>This function will be called after all images have been built.</p>
<p>It returns some sort of final version of the object.  In the base class, it just returns
self.data, but depending on the meaning of the output object, something else might be
more appropriate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em>) – The configuration field for this output object.</p></li>
<li><p><strong>base</strong> (<em>dict</em>) – The base configuration dict.</p></li>
<li><p><strong>main_data</strong> (<em>object</em>) – The main file data in case it is needed.</p></li>
<li><p><strong>logger</strong> (<em>object</em>) – If given, a logger object to log progress. [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The final version of the object.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="galsim.des.OffsetBuilder.processStamp">
<code class="sig-name descname">processStamp</code><span class="sig-paren">(</span><em class="sig-param">obj_num</em>, <em class="sig-param">config</em>, <em class="sig-param">base</em>, <em class="sig-param">logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/des/des_meds.html#OffsetBuilder.processStamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.des.OffsetBuilder.processStamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform any necessary processing at the end of each stamp construction.</p>
<p>This function will be called after each stamp is built, but before the noise is added,
so the existing stamp image has the true surface brightness profile (unless photon shooting
was used, in which case there will necessarily be noise from that process).</p>
<p>Remember, these stamps may be processed out of order.  Saving data to the scratch dict
is safe, even if multiprocessing is being used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj_num</strong> (<em>int</em>) – The object number</p></li>
<li><p><strong>config</strong> (<em>dict</em>) – The configuration field for this output object.</p></li>
<li><p><strong>base</strong> (<em>dict</em>) – The base configuration dict.</p></li>
<li><p><strong>logger</strong> (<em>object</em>) – If given, a logger object to log progress. [default: None]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="galsim.des.WriteMEDS">
<code class="sig-prename descclassname">galsim.des.</code><code class="sig-name descname">WriteMEDS</code><span class="sig-paren">(</span><em class="sig-param">obj_list</em>, <em class="sig-param">file_name</em>, <em class="sig-param">clobber=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/galsim/des/des_meds.html#WriteMEDS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#galsim.des.WriteMEDS" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a MEDS file from a list of MultiExposureObjects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj_list</strong> (<em>list</em>) – List of MultiExposureObjects test</p></li>
<li><p><strong>file_name</strong> (<em>string</em>) – Name of meds file to be written</p></li>
<li><p><strong>clobber</strong> (<em>bool</em>) – Setting <code class="docutils literal notranslate"><span class="pre">clobber=True</span></code> when <code class="docutils literal notranslate"><span class="pre">file_name</span></code> is given will silently overwrite existing files. (Default <code class="docutils literal notranslate"><span class="pre">clobber</span> <span class="pre">=</span> <span class="pre">True</span></code>.)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="des_psfex.html" class="btn btn-neutral float-right" title="DES PSFex" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="des.html" class="btn btn-neutral float-left" title="The DES Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, GalSim-developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>